<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>The web sucks too much</title>
    <link href="resources/hate.css" rel="stylesheet" type="text/css"/>
    <link href="http://fonts.googleapis.com/css?family=Oswald:400,700,300" rel="stylesheet" type="text/css"/>
</head>
<body>
    <h1 class="headtitle" id="title">The web sucks <small>and we explain you why</small></h1>
    <div class="bodycontent" id="content">
    </div>
    <script src="resources/showdown.js" type="text/javascript"></script>
    <script>
(function(){
var converter = new Showdown.converter(),
    fill_markdown= function(hate) { // FILL MY CODE WITH HATE
        var request = new XMLHttpRequest(),
            title   = hate.replace('.', ' '),
            desc    = ' sucks <small>and we explain you why<\/small>',
            content = document.getElementById('content'),
            header  = document.getElementById('title'),
            url     = 'hates/' + hate;
        
        request.open("GET", url, true);
        request.onreadystatechange = function(evt){
            if (request.readyState === 4 &&
                [0, 200].indexOf(request.status) > -1 ) {
                content.innerHTML = converter.makeHtml(request.responseText);
                header.innerHTML  = title + desc;
            }
        };
        request.send(null);
    };
window.addEventListener('DOMContentLoaded', function () { fill_markdown('the.web') }, false);
})();
    </script>
</body>
</html>
