<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>The web sucks too much</title>
    <link href="resources/hate.css" rel="stylesheet" type="text/css"/>
    <link href="http://fonts.googleapis.com/css?family=Oswald:400,700,300" rel="stylesheet" type="text/css"/>
</head>
<body>
    <h1 class="headtitle" id="title">Everything sucks <small>and we explain you why</small></h1>
    <div class="bodycontent" id="content">
    </div>
    <a href="https://github.com/informateci/sucks"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>
    <script src="resources/showdown.js" type="text/javascript"></script>
    <script>
(function(){
var converter = new Showdown.converter(),
    fill_markdown= function(hate) { // FILL MY CODE WITH HATE
        var request = new XMLHttpRequest(),
            title   = hate.replace('.', ' '),
            desc    = ' sucks <small>and we explain you why<\/small>',
            content = document.getElementById('content'),
            header  = document.getElementById('title'),
            url     = 'hates/' + hate;
        
        request.open("GET", url, true);
        request.onreadystatechange = function(evt){
            if (request.readyState === 4 &&
                [0, 200].indexOf(request.status) > -1 ) {
                content.innerHTML = converter.makeHtml(request.responseText);
            } elseÂ {
                content.innerHTML = '<p>Strangely, we do not hate' + title + ' yet.</p>';
            }
                document.title    = title + ' sucks too much';
                header.innerHTML  = title + desc;
        };
        request.send(null);
    };

window.addEventListener('DOMContentLoaded', function () {
    var m = /(.*).sucks\.toomu\.ch/.exec(window.location.hostname)
    if (m != null)
        fill_markdown(m[1])
    else
        fill_markdown('everything')
}, false);

window.addEventListener('hashchange', function () {
    if (location.hash == '')
        fill_markdown('everything')
    else
        fill_markdown(location.hash.substr(1))
}, false);

})();
    </script>
</body>
</html>
